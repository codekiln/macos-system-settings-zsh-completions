#compdef settings

_macos_system_settings() {
    local -a panels
    local panel

    # Get available settings panels
    for panel in $(_get_system_settings); do
        # Create description by adding spaces before capital letters and removing slashes
        local desc=$(echo $panel | sed 's,/\(.*\), \1,g' | sed 's/\([A-Z]\)/ \1/g' | sed 's/^ //')
        panels+=("$panel:Open$desc settings")
    done

    _describe -V 'settings panel' panels
}

_macos_system_settings "$@" 